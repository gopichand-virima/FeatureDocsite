# Email Configuration

Use this function to configure email integration for the service desk, including inbound email-to-ticket conversion and outbound email notifications.

Email integration allows users to create and update tickets via email, and enables automated email notifications for ticket events.

In the main window, click **Admin > Service Desk > Email Configuration**. The Email Configuration window displays.

## Inbound Email Configuration

Configure how incoming emails are converted to tickets.

### New Email Account

From the *Select Actions* drop-down list, choose **New Email Account**. The Email Account Configuration window displays.

Enter the following information:

**Account Settings**:

- **Account Name**: Descriptive name for this email account
- **Email Address**: Email address to monitor (e.g., support@company.com)
- **Protocol**: Select IMAP or POP3
- **Server**: Mail server address
- **Port**: Server port number
- **Use SSL/TLS**: Check if secure connection is required
- **Username**: Email account username
- **Password**: Email account password

**Ticket Creation Settings**:

- **Auto-Create Tickets**: Check to automatically create tickets from incoming emails
- **Default Ticket Type**: Select Incident, Request, or Problem
- **Default Priority**: Set default priority for email-generated tickets
- **Default Assignment Group**: Auto-assign to specific group

**Email Processing Rules**:

- **Subject Line Processing**: Extract ticket number from subject line
- **Sender Recognition**: Identify existing users or create new requesters
- **Attachment Handling**: Attach email attachments to tickets
- **HTML Email**: Process HTML-formatted emails

**Spam Filtering**:

- **Enable Spam Filter**: Check to filter spam emails
- **Blocked Senders**: Add email addresses or domains to block
- **Whitelist**: Add trusted senders

Click **Test Connection** to verify email settings.

Click **Save** when configuration is complete.

### Email Parsing Rules

Configure rules to extract information from email content:

Click **Configure Parsing Rules**.

Add rules to extract:

- Category from email subject keywords
- Priority from email content
- Affected CI from email body
- Custom fields from email

Click **Save**.

## Outbound Email Configuration

Configure how Virima sends email notifications.

### SMTP Configuration

Click **Configure SMTP**.

Enter the following information:

- **SMTP Server**: Outgoing mail server address
- **SMTP Port**: Server port (typically 25, 465, or 587)
- **Use Authentication**: Check if SMTP requires authentication
- **Username**: SMTP username
- **Password**: SMTP password
- **Use TLS/SSL**: Check for secure connection
- **From Address**: Default sender email address
- **From Name**: Default sender display name

Click **Test Email** to send a test message.

Click **Save**.

### Email Templates

Configure email notification templates:

Click **Manage Email Templates**.

For each template, configure:

- **Template Name**: Descriptive name
- **Subject**: Email subject line (can include variables)
- **Body**: Email content (can include variables and HTML)
- **Recipients**: Default recipients
- **Attachments**: Optional default attachments

Available variables:

- `{ticket_number}`: Ticket reference number
- `{ticket_subject}`: Ticket subject/title
- `{requester_name}`: Name of the requester
- `{assigned_to}`: Assigned technician
- `{status}`: Current ticket status
- `{priority}`: Ticket priority
- `{category}`: Ticket category

Click **Save** to save the template.

## Email Notification Rules

Configure when email notifications are sent:

Click **Configure Notification Rules**.

For each rule, define:

**Trigger Event**:

- Ticket Created
- Ticket Updated
- Ticket Assigned
- Ticket Resolved
- Ticket Closed
- Comment Added
- SLA Breach

**Recipients**:

- Requester
- Assigned Technician
- Assignment Group
- Manager
- Custom Recipients

**Email Template**: Select the template to use.

**Conditions**: Optional conditions for sending (e.g., only for High priority).

Click **Save**.

## Email Queue Management

View and manage the email queue:

Click **Email Queue**.

The queue displays:

- Pending emails waiting to be sent
- Failed email delivery attempts
- Email delivery status

Actions:

- **Retry**: Manually retry failed emails
- **Delete**: Remove emails from queue
- **View Details**: See email content and error messages

## Other Functions and Page Elements

- [Auto Refresh](/common_topics/auto_refresh_ng.mdx)
- [Delete](/common_topics/delete_remove_ng.mdx)
- [Export](/discovery/import_data_files/export_ng.mdx)
